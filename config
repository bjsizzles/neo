
    - name: Check if configuration file exists
      stat:
        path: "{{ src_config_file }}"
      register: config_file_status

    - name: Fail if configuration file is not found
      fail:
        msg: "Configuration file not found at {{ src_config_file }}"
      when: not config_file_status.stat.exists

    - name: Copy the configuration file to the remote server
      copy:
        src: "{{ src_config_file }}"
        dest: "{{ dest_config_file }}"
        owner: root
        group: root
        mode: '0644'
      when: config_file_status.stat.exists
